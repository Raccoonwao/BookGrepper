from proxy import Proxy
from typing import List

class ProxyManager:
    nextIndex=-1
    nextCnt=0
    proxyList = [ ]
    proxyList = [ None ]
    # proxyList = List[Proxy]

    def __init__(self):
        # see https://free-proxy-list.net/
        proxyConfigs = [
            # ['186.250.29.1',53281],
            # ['103.87.236.46',41183],
            # ['200.73.129.85',3128],
            # ['200.89.178.210',8080],
            # ['27.123.255.82',30029],
            # ['62.99.178.46',35108],
            # ['190.97.209.74',60999],
            # ['176.9.75.42',8080],
            # ['138.197.157.44',8080],
            # ['104.41.26.153',8080],
            # ['200.152.78.48',38543],
            ['88.99.10.252',1080],
            # ['173.249.44.18',8080],
            # ['138.201.223.250',31288],
            # ['200.89.178.229',3128],
            ['176.9.119.170',8080],
            ['103.28.121.58',80],
            ['88.99.10.253',1080],
            # ['200.89.178.230',80],
            # ['88.198.50.103',8080],

            # ['200.89.178.241',80],
            # ['181.129.52.154',54351],
            # ['200.73.128.5',8080],
            ['203.202.245.62',80],
            # ['190.157.247.65',53281],
            # ['168.227.229.96',8888],
            # ['109.199.133.161',23500],
            # ['186.229.25.18',8080],
            ['185.242.168.118',8080],
            # ['143.0.245.9',48158],
            # ['94.230.158.37',39509],
            # ['180.211.172.151',56308],
            ['88.198.24.108',8080],
            # ['45.70.210.15',55443],
            ['181.30.28.156',3128],
            # ['51.79.85.125',8080],
            # ['80.187.140.26',8080],
            # ['207.154.231.213',8080],
            # ['200.89.178.216',8080],
            # ['173.212.202.65',80],
            # ['80.51.31.201',8080],
            # ['125.166.104.74',8080],
            ['118.172.201.49',30558], #good
            # ['85.10.219.102',1080],
            # ['103.216.82.146',6666],
            # ['194.58.182.73',41258],
            # ['36.89.229.13',33389],
            # ['79.175.57.77',55477],
            # ['95.79.57.206',53281],
            # ['193.110.115.220',3128],
            # ['188.170.41.6',60332],
            # ['190.152.213.126',53417],
            # ['116.203.159.231',8118],
            # ['95.181.37.114',39876],
            # ['103.81.77.14',83],
            ['195.189.71.187',36853], # good
            # ['91.205.131.150',50734],
            # ['193.34.93.221',53805],
            # ['181.189.221.245',42407],
            # ['105.212.11.128',47873]
        ]

        for config in proxyConfigs: 
            self.proxyList.append(Proxy(config[0], config[1]))
        
    def next(self) -> Proxy:
        if self.nextCnt %2 ==0:
            self.nextIndex = (self.nextIndex +1) % len(self.proxyList)
        self.nextCnt+=1

        return self.proxyList[self.nextIndex]

    